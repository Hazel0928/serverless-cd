import{r as e,a as t,$ as s,T as o,R as a,l as n,L as r,F as i,a0 as p,a1 as l,a2 as c}from"./index.js";import{C as g}from"./repository.js";import"./index15.js";import{B as d}from"./index6.js";import{B as m}from"./index7.js";import{A as u}from"./index14.js";import{g as x}from"./index10.js";import"./index9.js";import"./index8.js";const y=[{loading:!1,disabled:!1,className:"github-btn",type:"github",text:"Github \u767b\u5f55",loginText:"\u767b\u5f55\u4e2d"},{text:"\u8d26\u53f7\u767b\u5f55",type:"account",disabled:!1,loading:!1}],f=i=>{const{setIsLogin:p}=i,[l,c]=e.exports.useState(y),{request:u,error:x}=t(s);e.exports.useEffect((()=>{x&&o.error(x.message)}),[x]);const f=undefined,h=undefined,E={github:async e=>{c(b(e,!0));try{const{data:t}=await u();window.location.href=t,c(b(e,!1))}catch(t){c(b(e,!1))}},account:async()=>{p(!0)}},b=(e,t)=>{const s=undefined;return n.exports.map(l,(s=>(s.type===e?s.loading=t:s.disabled=t,s)))};return a.createElement("div",null,a.createElement("h1",{style:{color:"#000"}},"\u6b22\u8fce\u6765\u5230 Serverless CD"),a.createElement("h3",{style:{marginTop:"30px"}},"\u8bf7\u9009\u62e9\u4ee5\u4e0b\u4efb\u610f\u4e00\u79cd\u65b9\u5f0f\u767b\u5f55:"),a.createElement(d,{spacing:20,style:{marginBottom:15}},l.map((e=>{var t;const s=n.exports.get(e,"className",""),o=n.exports.get(e,"ghost",!1),r=n.exports.get(e,"loading",!1),i=n.exports.get(e,"key",""),p=n.exports.get(e,"type",""),l=n.exports.get(e,"text",""),c=n.exports.get(e,"loginText",""),d=n.exports.get(e,"disabled",!1),u=E[p];return a.createElement(m,{className:`base-login-button ${s}`,ghost:o,loading:r,disabled:d,onClick:()=>u(p),size:"large",key:i},p&&(null==(t=g[p])?void 0:t.svg(24)),a.createElement("span",{style:{marginLeft:10}},r?c:l))}))),a.createElement(r,{to:"/signUp",style:{textDecoration:"underline"}},"\u6ca1\u6709\u8d26\u53f7\uff1f \u53bb\u6ce8\u518c"))},h=undefined,E=({location:{search:s}})=>{const[o,r]=e.exports.useState("account"===n.exports.get(x(s),"type")),[g,d]=i.useModel("login"),m=t(c);return e.exports.useEffect((()=>{n.exports.isEmpty(g.supportLoginTypes)&&d.getModelsSupportLoginTypes()}),[]),e.exports.useEffect((()=>{const e=g.supportLoginTypes;o||n.exports.isEmpty(e)||r(!e.github)}),[g]),a.createElement("div",{className:"session-container"},a.createElement(p,{style:{width:128,height:"auto"},icon:"account",src:l,shape:"square"}),o?a.createElement(u,{pageType:"login",request:m,setIsLogin:r,supportLoginTypes:g.supportLoginTypes}):a.createElement(f,{setIsLogin:r}))};export{E as default};
