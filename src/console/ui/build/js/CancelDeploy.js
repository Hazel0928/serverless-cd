import{r as e,a as t,R as a,N as s,T as r}from"./index.js";import{a as l,c as n}from"./task.js";import{s as o}from"./index10.js";import{B as i}from"./index7.js";import{D as c}from"./index11.js";const m=n=>{const{taskId:m,disabled:p,repoName:d,refreshCallback:u}=n,[y,k]=e.exports.useState(!1),[E,f]=e.exports.useState(!1),{request:g}=t(l),x=()=>{k(!1)},C=async()=>{f(!0);const{success:e,data:t}=await g({taskId:m});e&&(await o(2800),r.success("\u90e8\u7f72\u6210\u529f"),u&&u(t.taskId)),f(!1),x()};return a.createElement(a.Fragment,null,a.createElement(i,{disabled:p,onClick:()=>k(!0),type:"primary"},"\u91cd\u65b0\u90e8\u7f72"),a.createElement(c,{title:a.createElement("div",null,a.createElement(s,{size:"small",type:"warning",style:{color:"#ffc440",marginRight:8}}),"\u91cd\u65b0\u90e8\u7f72 ",d," \u5e94\u7528"),autoFocus:!0,visible:y,onOk:x,onClose:x,style:{width:600},footer:[a.createElement(i,{type:"primary",onClick:C,loading:E},"\u786e\u5b9a"),a.createElement(i,{type:"normal",onClick:x,disabled:E},"\u53d6\u6d88")]},a.createElement("p",{style:{margin:0}},"\u5f53\u524d\u64cd\u4f5c\u5c06\u57fa\u4e8e\u7248\u672c",a.createElement("span",{className:"color-link ml-5 mr-5"},m),"\u521b\u5efa\u4e00\u4e2a\u65b0\u7684\u90e8\u7f72\u7248\u672c\uff0c\u60a8\u786e\u8ba4\u8981\u91cd\u65b0\u90e8\u7f72\u5417\uff1f")))},p=l=>{const{taskId:o,repoName:m,refreshCallback:p,isText:d=!1}=l,[u,y]=e.exports.useState(!1),[k,E]=e.exports.useState(!1),{request:f}=t(n),g=()=>{y(!1)},x=async()=>{E(!0);const{success:e,data:t}=await f({taskId:o});e&&(r.success("\u53d6\u6d88\u90e8\u7f72\u6210\u529f"),p&&p(t.taskId)),E(!1),g()};return a.createElement(a.Fragment,null,a.createElement(i,{onClick:()=>y(!0),type:"primary",text:d},"\u53d6\u6d88\u90e8\u7f72"),a.createElement(c,{title:a.createElement("div",null,a.createElement(s,{size:"small",type:"warning",style:{color:"#ffc440",marginRight:8}}),"\u53d6\u6d88\u90e8\u7f72 ",m," \u5e94\u7528"),autoFocus:!0,visible:u,onOk:g,onClose:g,style:{width:600},footer:[a.createElement(i,{type:"primary",onClick:x,loading:k},"\u786e\u5b9a"),a.createElement(i,{type:"normal",onClick:g,disabled:k},"\u53d6\u6d88")]},a.createElement("p",{style:{margin:0}},"\u5f53\u524d\u64cd\u4f5c\u5c06\u53d6\u6d88\u5f53\u524d\u90e8\u7f72\u7248\u672c\uff0c\u4e0d\u4f1a\u5f71\u54cd\u5df2\u90e8\u7f72\u7684\u73af\u5883\u8d44\u6e90\uff0c\u60a8\u786e\u5b9a\u8981\u53d6\u6d88\u90e8\u7f72\u5e94\u7528 ",m,"\u5417\uff1f")))};export{p as C,m as R};
