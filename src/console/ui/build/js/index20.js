import{r as e,a as t,l as s,b as a,R as r,a0 as n,N as i,L as o,a8 as l,a9 as m}from"./index.js";import{C as c}from"./repository.js";import{A as p}from"./index15.js";import{g as d}from"./index10.js";import{B as u}from"./index7.js";import{a as g}from"./index8.js";import{N as x}from"./index5.js";import"./index9.js";const f=undefined,E=({location:{search:f}})=>{var E;const[y,b]=e.exports.useState(!1),[j,h]=e.exports.useState({}),{request:v,data:N,loading:C}=t(l),S=t(m),k=g.useField(),{init:w,getValue:q,validate:A,getError:B}=k,F=s.exports.get(d(f),"code","");e.exports.useEffect((()=>{S.request({code:F})}),[]),e.exports.useEffect((()=>{var e;N&&N.success&&(null==(e=a)||e.push("/"))}),[N]),e.exports.useEffect((()=>{const e=s.exports.get(S.data,"data",{});s.exports.isEmpty(e)||h(e)}),[S.data]);const G=()=>{A(((e,t)=>{e||v({status:y?"signIn":"login",...t,providerInfo:j})}))};return r.createElement(r.Fragment,null,S.loading?r.createElement(x,{tip:"\u6388\u6743\u4e2d...",fullScreen:!0,tipAlign:"bottom"}):r.createElement("div",{className:"session-container",style:{maxWidth:500}},r.createElement("h1",null,"\u7ee7\u7eed\u4ee5\u5b8c\u6210\u7b2c\u4e09\u65b9\u5e10\u53f7\u7ed1\u5b9a"),r.createElement("div",{className:"flex-r",style:{justifyContent:"center"}},r.createElement(n,{src:"https://img.alicdn.com/imgextra/i3/O1CN01y2i5Eg1bcB4XM17SG_!!6000000003485-2-tps-320-320.png"}),r.createElement(i,{type:"switch",style:{margin:"0 20px"}}),null==(E=c.github)?void 0:E.svg(36)),r.createElement("p",{style:{margin:"20px 0"}},"\u60a8\u5df2\u901a\u8fc7 GitHub \u6388\u6743\uff0c\u5b8c\u5584\u4ee5\u4e0b\u767b\u5f55\u4fe1\u606f\u5373\u53ef\u5b8c\u6210\u7ed1\u5b9a"),r.createElement(p,{init:w,getError:B}),r.createElement(u,{className:"base-login-button",type:"primary",style:{margin:"20px auto",width:320},loading:C,disabled:!(q("username")&&q("password")),onClick:G},C?"\u7ed1\u5b9a\u4e2d":y?"\u6ce8\u518c\u5e76\u7ed1\u5b9a":"\u767b\u5f55\u5e76\u7ed1\u5b9a\u5df2\u6709\u8d26\u53f7"),r.createElement("a",{className:"cursor-pointer",style:{textDecoration:"underline"},onClick:()=>b(!y)},y?"\u5df2\u6709\u5e10\u53f7\uff1f \u70b9\u6b64\u7ed1\u5b9a":"\u6ca1\u6709\u5e10\u53f7\uff1f \u6ce8\u518c\u4e00\u4e2a"),r.createElement(o,{to:"/login",className:"mt-10",style:{display:"block"}},"\u66f4\u591a\u767b\u5f55\u65b9\u5f0f")))};export{E as default};
